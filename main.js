const resultElement = document.querySelector("#result"), LengthElement = document.querySelector("#length"), CapitalElement = document.querySelector("#Capital"), SmallElement = document.querySelector("#Small"), NumberElement = document.querySelector("#number"), specialElement = document.querySelector("#symbol"), form = document.querySelector("#pg-form"), clipboardEl = document.querySelector(".clipboard"), messageDiv = document.querySelector(".deactive"), messagepara = document.querySelector(".messageDiv"), fieldsArray = [{ field: CapitalElement, getChar: getCapitalletter }, { field: SmallElement, getChar: getSmallletter }, { field: NumberElement, getChar: getnumber }, { field: specialElement, getChar: getSpecialChar }]; function GetRandomChar(min, max) { const limit = max - min + 1; return String.fromCharCode(Math.floor(Math.random() * limit) + min) } function getCapitalletter() { return GetRandomChar(65, 90) } function getSmallletter() { return GetRandomChar(97, 122) } function getnumber() { return GetRandomChar(48, 57) } function getSpecialChar() { const specialChar = "!\"#$%&'()*+,-.~/:;<=>?@[\]^_`{|}~'"; return specialChar[Math.floor(Math.random() * specialChar.length)] } form.addEventListener("submit", e => { e.preventDefault(); const length = LengthElement.value; let generatedPassword = ""; const checkedFields = fieldsArray.filter(({ field: field }) => field.checked); for (let i = 0; i < length; i++) { const index = Math.floor(Math.random() * checkedFields.length), letter = checkedFields[index].getChar(); generatedPassword += letter } resultElement.value = generatedPassword }), clipboardEl.addEventListener("click", async e => { const text = resultElement.value; text ? (await navigator.clipboard.writeText(text), messageDiv.classList.remove("deactive"), messageDiv.classList.add("active"), messageDiv.classList.remove("red"), messagepara.textContent = "Your secured password have been copied") : (messageDiv.classList.remove("deactive"), messageDiv.classList.add("red"), messagepara.textContent = "No password to copy") });